---
layout: page
title: 'Селекторы: подводные камни'
permalink: /selectors/

links:
 - name: 'Селекторы по ID'
   url: '#id'
 - name: 'Составные селекторы'
   url: '#complex-selectors'
 - name: 'nth-child и nth-of-type'
   url: '#nth-child'
---

<ol>

  <li>
    <h3 id="id">Селекторы по ID <a class="post__anchor" href="#id">#</a></h3>

    <div>
      <p>Все селекторы в CSS имеют свой вес, например, селектор по классу весит больше, чем селектор по тегу. Это означает, что если два блока стилей перекрывают друг друга, выиграет тот, у кого тяжелее селектор. Подробнее об этом <a href="http://css.yoksel.ru/specifity/">можно почитать тут</a>.</p>

      <p>Селектор по ID — самый тяжелый из всех, а это означает, что если вы задали стили по ID (например, <code>#header A</code>), переопределить их будет довольно сложно: для этого потребуется <code>!important</code> или ещё один селектор с ID.</p>

      <p>При дальнейшем развитии такого кода проблемы специфичности селекторов буду возникать постоянно, такой код будет очень трудно поддерживать, поэтому постарайтесь не использовать для стилизации селекторы по ID.</p>
    </div>
  </li>

  <li>
    <h3 id="complex-selectors">Составные селекторы <a class="post__anchor" href="#complex-selectors">#</a></h3>

    <div>
      <p>Такие селекторы следует использовать с осторожностью. Во-первых, по причине специфичности: например, чтобы перебить селектор из двух классов, вам так же придется использовать селектор как минимум из двух классов или <code>!important</code>.</p>

      <p>Во-вторых, понять к чему применится селектор из двух и более частей без подглядывания в разметку может быть затруднительно, а переходы между файлами занимают время и замедляют процесс вёрстки.</p>

      <p>Например, сравните: <code>.post .header SPAN</code> и <code>.post__author</code>. У второго селектора ниже специфичность, сразу понятно что это за элемент, а кроме того, стили применятся только к элементам с таким классом, не затрагивая все прочие спаны, которые есть там сейчас, и которые могут появиться там в будущем.</p>

      <p>Пример может показаться несколько синтетическим, и на простых страницах он не вызовет особых проблем, но в крупных проектах блоки страницы могут иметь очень развесистую структуру, и там сложные селекторы могут оказаться легким способом выстрелить себе в ногу.</p>

      <p>Проблему составных селекторов хорошо решает <a href="http://yoksel.github.io/easy-markup/bem-rules/">методология именования классов по БЭМ</a>. При её грамотном использовании представление о разметке можно получить не выходя из CSS, а необходимость использовать сложные селекторы возникает крайне редко.</p>

      <p>Код с простыми селекторами удобнее читать и приятнее поддерживать, постарайтесь сохранять ваш код простым и легко читаемым.</p>
    </div>
  </li>

  <li>
    <h3 id="nth-child"><code>nth-child</code> и <code>nth-of-type</code> <a class="post__anchor" href="#nth-child">#</a></h3>

    <div>
      <p>С этими и подобными селекторами очень интересно играться, но в долгоживущих проектах их лучше не использовать из-за проблем с читабельностью: не заглядывая в код не всегда можно понять куда целится селектор. Если таких селекторов в коде много, придётся каждый раз выяснять куда целится каждый из них.</p>

      <p>Использование таких селекторов вместо классов выглядит заманчивой идеей, но развивать и поддерживать такой код может быть неудобно. Лучше использовать БЭМ-классы с модификаторами.</p>

      <p>Исключением могут быть совсем простые случаи, когда надо, например, покрасить строки таблицы через одну. Это удобно делать с помощью <code>nth-child(odd)</code>.</p>
    </div>
</ol>
